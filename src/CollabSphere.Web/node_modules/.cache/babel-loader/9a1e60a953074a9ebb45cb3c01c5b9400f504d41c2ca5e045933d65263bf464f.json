{"ast":null,"code":"var _jsxFileName = \"D:\\\\UTH.NguyenKhangDam\\\\XDHDT\\\\CollabSphere\\\\CollabSphere\\\\src\\\\CollabSphere.Web\\\\src\\\\components\\\\Whiteboard.js\",\n  _s = $RefreshSig$();\n// src/components/Whiteboard.js\nimport React, { useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SOCKET_SERVER_URL = 'http://localhost:3001'; // Replace with your backend Socket.IO URL\n\nconst Whiteboard = ({\n  roomId\n}) => {\n  _s();\n  const canvasRef = useRef();\n  const socket = useRef();\n  const [drawing, setDrawing] = React.useState(false);\n  useEffect(() => {\n    socket.current = io(SOCKET_SERVER_URL);\n    socket.current.emit('join-room', roomId);\n    socket.current.on('draw', data => {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.lineTo(data.x, data.y);\n      ctx.stroke();\n    });\n    return () => {\n      socket.current.disconnect();\n    };\n  }, [roomId]);\n  const startDrawing = e => {\n    setDrawing(true);\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n  };\n  const draw = e => {\n    if (!drawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    ctx.stroke();\n    socket.current.emit('draw', {\n      x: e.nativeEvent.offsetX,\n      y: e.nativeEvent.offsetY,\n      roomId\n    });\n  };\n  const stopDrawing = () => {\n    setDrawing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Real-time Whiteboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 600,\n      style: {\n        border: '1px solid black'\n      },\n      onMouseDown: startDrawing,\n      onMouseMove: draw,\n      onMouseUp: stopDrawing,\n      onMouseLeave: stopDrawing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Whiteboard, \"JAPP/tq9mfgGR8k4ZZpim27JfHY=\");\n_c = Whiteboard;\nexport default Whiteboard;\nvar _c;\n$RefreshReg$(_c, \"Whiteboard\");","map":{"version":3,"names":["React","useRef","useEffect","io","jsxDEV","_jsxDEV","SOCKET_SERVER_URL","Whiteboard","roomId","_s","canvasRef","socket","drawing","setDrawing","useState","current","emit","on","data","canvas","ctx","getContext","lineTo","x","y","stroke","disconnect","startDrawing","e","beginPath","moveTo","nativeEvent","offsetX","offsetY","draw","stopDrawing","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","width","height","style","border","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","_c","$RefreshReg$"],"sources":["D:/UTH.NguyenKhangDam/XDHDT/CollabSphere/CollabSphere/src/CollabSphere.Web/src/components/Whiteboard.js"],"sourcesContent":["// src/components/Whiteboard.js\r\nimport React, { useRef, useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst SOCKET_SERVER_URL = 'http://localhost:3001'; // Replace with your backend Socket.IO URL\r\n\r\nconst Whiteboard = ({ roomId }) => {\r\n  const canvasRef = useRef();\r\n  const socket = useRef();\r\n  const [drawing, setDrawing] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.current = io(SOCKET_SERVER_URL);\r\n    socket.current.emit('join-room', roomId);\r\n\r\n    socket.current.on('draw', (data) => {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.lineTo(data.x, data.y);\r\n      ctx.stroke();\r\n    });\r\n\r\n    return () => {\r\n      socket.current.disconnect();\r\n    };\r\n  }, [roomId]);\r\n\r\n  const startDrawing = (e) => {\r\n    setDrawing(true);\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.beginPath();\r\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!drawing) return;\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n    ctx.stroke();\r\n    socket.current.emit('draw', { x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY, roomId });\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    setDrawing(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Real-time Whiteboard</h2>\r\n      <canvas\r\n        ref={canvasRef}\r\n        width={800}\r\n        height={600}\r\n        style={{ border: '1px solid black' }}\r\n        onMouseDown={startDrawing}\r\n        onMouseMove={draw}\r\n        onMouseUp={stopDrawing}\r\n        onMouseLeave={stopDrawing}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Whiteboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}